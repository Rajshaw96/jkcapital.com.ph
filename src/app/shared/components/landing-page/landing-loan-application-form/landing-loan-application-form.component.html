<section class="loan-wrapper section">
  <div class="container">

    <!-- HEADER -->
    <div class="section-header center">
      <span class="section-line"></span>
      <h2>Start Your Funding Evaluation</h2>
      <p class="subtitle">
        Share a few details and we’ll connect you with a loan expert.
      </p>
    </div>

    <div class="loan-container">

      <!-- LEFT: FORM (2-Column Rows Restored) -->
      <div class="loan-form-card">
        <div class="card-title-area">
            <h3>Financing Inquiry Form</h3>
            <p>Fill out the basic details to get started.</p>
        </div>

        <form [formGroup]="loanForm" (ngSubmit)="submit()" novalidate>

          <p class="error-text top-error" *ngIf="submitted && loanForm.invalid">
            <i class="fas fa-exclamation-circle"></i> Please fix the highlighted fields before submitting.
          </p>

          <!-- ================= BASIC SECTION ================= -->
          <div class="form-row">
            <div class="form-group">
              <label>First Name *</label>
              <input formControlName="firstName" placeholder="e.g. Juan" />
              <p class="error-text" *ngIf="isInvalid('firstName')">Required (min 2 characters)</p>
            </div>

            <div class="form-group">
              <label>Last Name *</label>
              <input formControlName="lastName" placeholder="e.g. Dela Cruz" />
              <p class="error-text" *ngIf="isInvalid('lastName')">Required (min 2 characters)</p>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Email Address *</label>
              <input formControlName="email" placeholder="name@company.com" />
              <p class="error-text" *ngIf="isInvalid('email')">Enter valid email</p>
            </div>

            <div class="form-group">
              <label>Contact Number *</label>
              <input formControlName="contactNumber" placeholder="09XX XXX XXXX" />
              <p class="error-text" *ngIf="isInvalid('contactNumber')">Enter valid number</p>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Business Name</label>
              <input formControlName="businessName" placeholder="Registered name" />
            </div>
            <div class="form-group">
              <label>Province *</label>
              <select formControlName="province">
                <option value="">Select region / province</option>
                <option>Metro Manila</option>
                <option>Cebu</option>
                <option>Davao</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Business Address</label>
            <input formControlName="businessAddress" placeholder="Street, City, Unit No." />
          </div>

          <!-- VIEW FULL BUTTON -->
          <button type="button" class="view-full-btn" *ngIf="!showFullForm" (click)="showFullForm = true">
            <span>Show more details (Optional)</span>
            <i class="fas fa-chevron-down"></i>
          </button>

          <!-- ================= FULL FORM SECTION ================= -->
          <div *ngIf="showFullForm" class="expanded-form">
            <hr class="divider" />

            <div class="form-row">
              <div class="form-group">
                <label>Business Classification *</label>
                <select formControlName="businessClassification">
                  <option value="">Select option</option>
                  <option>Sole Proprietorship</option>
                  <option>Partnership</option>
                  <option>Corporation</option>
                </select>
              </div>

              <div class="form-group">
                <label>Nature of Business *</label>
                <select formControlName="businessNature">
                  <option value="">Select option</option>
                  <option>Manufacturing</option>
                  <option>Retail</option>
                  <option>Services</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label>Product or Service *</label>
              <input formControlName="productService" placeholder="Briefly describe what you sell" />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Do you have a bank account? *</label>
                <div class="radio-group">
                  <label><input type="radio" value="yes" formControlName="hasBankAccount"> Yes</label>
                  <label><input type="radio" value="no" formControlName="hasBankAccount"> No</label>
                </div>
              </div>

              <div class="form-group">
                <label>Bank Account Age</label>
                <select formControlName="bankAccountAge">
                  <option value="">Select option</option>
                  <option>Less than 1 year</option>
                  <option>1–3 years</option>
                  <option>3+ years</option>
                </select>
              </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Loan Product *</label>
                    <select formControlName="loanProduct">
                      <option value="">Select product</option>
                      <option>Business Loan</option>
                      <option>Credit Line</option>
                    </select>
                </div>
                <div class="form-group">
                  <label>Loan Purpose *</label>
                  <select formControlName="loanPurpose">
                    <option value="">Select purpose</option>
                    <option>Expansion</option>
                    <option>Working Capital</option>
                  </select>
                </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Loan Amount *</label>
                <input formControlName="loanAmount" placeholder="e.g. 1,000,000" />
              </div>

              <div class="form-group">
                <label>Loan Term *</label>
                <select formControlName="loanTerm">
                  <option value="">Select term</option>
                  <option>6 months</option>
                  <option>12 months</option>
                  <option>24 months</option>
                </select>
              </div>
            </div>

            <button type="submit" class="submit-btn" [disabled]="loading">
              {{ loading ? 'Processing...' : 'Submit Evaluation Request' }}
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </form>
      </div>

      <!-- RIGHT SIDE: ENHANCED BENEFITS SECTION -->
      <div class="loan-benefits">
        <div class="benefit-header">
            <h3>Fast. Simple. Personal.</h3>
            <p>Our commitment to your business growth.</p>
        </div>
        
        <ul class="benefit-list">
          <li>
            <div class="benefit-icon"><i class="fas fa-handshake"></i></div>
            <div class="benefit-text">
                <strong>FREE Consultation</strong>
                <span>Personalized evaluation from funding experts.</span>
            </div>
          </li>
          <li>
            <div class="benefit-icon"><i class="fas fa-bolt"></i></div>
            <div class="benefit-text">
                <strong>Instant Pre-screening</strong>
                <span>Get initial results within the same day.</span>
            </div>
          </li>
          <li>
            <div class="benefit-icon"><i class="fas fa-calendar-check"></i></div>
            <div class="benefit-text">
                <strong>Quick Processing</strong>
                <span>5–7 days processing time from submission.</span>
            </div>
          </li>
        </ul>

        <div class="trust-badge">
            <i class="fas fa-shield-alt"></i>
            <span>Secure & Encrypted Application</span>
        </div>
      </div>

    </div>
  </div>
</section>